<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Tour Guider - Offline Mode</title>
    <meta name="description" content="You are currently offline. Check your connection and try again.">

    <!-- PWA Theming -->
    <meta name="theme-color" content="#007bff">

    <!-- Link to External CSS File -->
    <link rel="stylesheet" href="/src/styles/offline.css">
</head>

<body>
    <!-- Main Content -->
    <div class="offline-container" role="alert" aria-live="assertive">
        <h1>You're Offline!</h1>
        <p>Uh-oh, it looks like you've lost your connection. Please check your network and try again.</p>
        
        <button id="retry-btn" class="retry-btn">Retry Connection</button>
        
        <p><a href="/" class="offline-link">Go to Homepage</a></p>
    </div>

    <!-- Offline Handling Script -->
    <script defer>
        window.addEventListener("load", () => {
            const retryButton = document.getElementById("retry-btn");

            retryButton.addEventListener("click", () => {
                retryButton.textContent = "Checking...";
                retryButton.disabled = true;

                // Check if online status is restored after retry
                if (navigator.onLine) {
                    window.location.reload();
                } else {
                    alert("Still offline. Please check your internet connection.");
                    retryButton.textContent = "Retry Connection";
                    retryButton.disabled = false;
                }
            });
        });
    </script>
</body>

</html>
